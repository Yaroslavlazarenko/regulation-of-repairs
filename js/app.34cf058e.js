(function(){"use strict";var e={9540:function(e,s,t){var a=t(6116),r=function(){var e=this,s=e._self._c;return s("div",{attrs:{id:"app"}},[e.isLoggedIn?[s("MenuBarComponent"),s("div",{staticClass:"admin-panel-choice-menu"},[e._m(0),s("div",{staticClass:"choise-block button-choice",class:"manager"==e.openedWindow?"is-active":"",on:{click:function(s){e.openedWindow="manager"}}},[s("span",[e._v("Менеджер")])]),s("div",{staticClass:"choise-block button-choice",class:"coordinator"==e.openedWindow?"is-active":"",on:{click:function(s){e.openedWindow="coordinator"}}},[s("span",[e._v("Координатор")])]),s("div",{staticClass:"choise-block button-choice",class:"repairman"==e.openedWindow?"is-active":"",on:{click:function(s){e.openedWindow="repairman"}}},[s("span",[e._v("Ремонтник")])])]),"manager"==e.openedWindow?s("UsersManagement"):e._e(),"coordinator"==e.openedWindow?s("RepairCoordinatorPanel"):e._e(),"repairman"==e.openedWindow?s("RepairmanPanel"):e._e()]:e._e(),e.isLoggedIn?e._e():s("AuthorizationAndRegistration")],2)},i=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"choise-block"},[s("span",[e._v("Вікна:")])])}],n=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login-create-window"},[s("div",{staticClass:"create-account-box"},[s("h3",{staticClass:"title"},[e._v(e._s(e.createAccountWindow?"Вікно реєстрації":"Вікно авторизації"))]),s("div",{staticClass:"form"},[e.createAccountWindow?s("div",{staticClass:"fio-box"},[s("div",{staticClass:"first-name-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.firstname,expression:"userCred.firstname"}],class:{"invalid-register-inputs-true":!e.isValidName(e.userCred.firstname)&&(e.userCred.firstname||e.emptyInputData)},attrs:{type:"text",id:"first-name",placeholder:"Ім'я *"},domProps:{value:e.userCred.firstname},on:{input:function(s){s.target.composing||e.$set(e.userCred,"firstname",s.target.value)}}}),e.isValidName(e.userCred.firstname)||!e.userCred.firstname&&!e.emptyInputData?e._e():s("label",{staticClass:"invalid-register-inputs",attrs:{for:"first-name"}},[e._v(" "+e._s(e.emptyInputData&&!e.userCred.firstname?"Заповніть поле":"Некорректно")+" ")])]),s("div",{staticClass:"last-name-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.lastname,expression:"userCred.lastname"}],class:{"invalid-register-inputs-true":!e.isValidName(e.userCred.lastname)&&e.userCred.lastname},attrs:{type:"text",id:"last-name",placeholder:"Прізвище"},domProps:{value:e.userCred.lastname},on:{input:function(s){s.target.composing||e.$set(e.userCred,"lastname",s.target.value)}}}),!e.isValidName(e.userCred.lastname)&&e.userCred.lastname?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"last-name"}},[e._v(" Некорректно ")]):e._e()]),s("div",{staticClass:"surname-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.surname,expression:"userCred.surname"}],class:{"invalid-register-inputs-true":!e.isValidName(e.userCred.surname)&&e.userCred.surname},attrs:{type:"text",id:"surname",placeholder:"По-батькові"},domProps:{value:e.userCred.surname},on:{input:function(s){s.target.composing||e.$set(e.userCred,"surname",s.target.value)}}}),!e.isValidName(e.userCred.surname)&&e.userCred.surname?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"surname"}},[e._v(" Некорректно ")]):e._e()])]):e._e(),e.createAccountWindow?s("div",{staticClass:"phone-number-container"},[s("div",{staticClass:"ukraine-number-code"},[s("span",[e._v(e._s(e.userCred.phoneRegion))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.phone,expression:"userCred.phone"},{name:"phone",rawName:"v-phone"}],class:{"invalid-register-inputs-true":e.userCred.phone.replace(/[_\-)(\s]/g,"").length&&e.userCred.phone.replace(/[_\-)(\s]/g,"").length<9},attrs:{type:"tel",id:"phone",placeholder:"(__) ___-__-__",autocomplete:"tel"},domProps:{value:e.userCred.phone},on:{input:function(s){s.target.composing||e.$set(e.userCred,"phone",s.target.value)}}})]):e._e(),e.userCred.phone.replace(/[_\-)(\s]/g,"").length&&e.userCred.phone.replace(/[_\-)(\s]/g,"").length<9&&e.createAccountWindow?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"phone"}},[e._v(" Номер неповний ")]):e._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.email,expression:"userCred.email"}],class:{"invalid-register-inputs-true":!e.isValidEmail&&(e.userCred.email||e.emptyInputData)},attrs:{type:"email",id:"email",placeholder:e.createAccountWindow?"Email *":"Email",autocomplete:"email"},domProps:{value:e.userCred.email},on:{input:function(s){s.target.composing||e.$set(e.userCred,"email",s.target.value)}}}),e.isValidEmail||!e.userCred.email&&!e.emptyInputData?e._e():s("label",{staticClass:"invalid-register-inputs",attrs:{for:"email"}},[e._v(" "+e._s(e.emptyInputData&&!e.userCred.email?"Введіть пошту":"Неправильна пошта")+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.password,expression:"userCred.password"}],class:{"invalid-register-inputs-true":e.passwordErrorMessage&&(this.userCred.password||e.emptyInputData)},attrs:{type:"password",id:"password",placeholder:e.createAccountWindow?"Пароль *":"Пароль"},domProps:{value:e.userCred.password},on:{input:function(s){s.target.composing||e.$set(e.userCred,"password",s.target.value)}}}),e.createAccountWindow?s("input",{directives:[{name:"model",rawName:"v-model",value:e.secondPassword,expression:"secondPassword"}],class:{"invalid-register-inputs-true":e.passwordErrorMessage&&(this.userCred.password||e.emptyInputData)},attrs:{type:"password",placeholder:"Підтвердіть пароль *"},domProps:{value:e.secondPassword},on:{input:function(s){s.target.composing||(e.secondPassword=s.target.value)}}}):e._e(),e.passwordErrorMessage&&(this.userCred.password||e.emptyInputData)?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"password"}},[e._v(" "+e._s(e.passwordErrorMessage)+" ")]):e._e()]),e.registerAndLoginErrorMessage?s("span",{staticClass:"error-alert"},[e._v(e._s(e.registerAndLoginErrorMessage))]):e._e(),s("div",{staticClass:"login-create-actions"},[s("button",{staticClass:"login-create-account-btn",on:{click:function(s){e.createAccountWindow?e.createAccount():e.login()}}},[e._v(e._s(e.createAccountWindow?"Зареєструватися":"Увійти"))]),s("button",{staticClass:"login-create-btn",on:{click:function(s){return e.toggleStartWindow()}}},[e._v(e._s(e.createAccountWindow?"До авторизації":"До реєстрації"))])]),[e._m(0),s("button",{staticClass:"social-register"},[s("div",{staticClass:"google-registration-box",on:{click:function(s){return e.createAccountWithGoogle()}}},[s("img",{attrs:{src:t(36),alt:""}}),s("span",[e._v("продовжити з Google")]),s("div")])])]],2)])},l=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"registration-description"},[s("span",{staticClass:"subtitle"},[e._v("або за допомогою")])])}],o={bind(e){e.oninput=function(s){if(!s.isTrusted)return;const t="(__) ___-__-__";var a=this.value.replace(/[^0-9]/g,"");this.value=i(a),e.dispatchEvent(new Event("input"));var r=n(this.value);function i(e){var s=t;for(let t of e)s=s.replace("_",t);return s}function n(e){for(let s=e.length-1;s>=0;s--)if(/\d/.test(e[s]))return s+1;return 1}e.setSelectionRange(r,r)}}},c={name:"AuthorizationAndRegistration",props:{},directives:{phone:o},data(){return{createAccountWindow:!1,emptyInputData:!1,secondPassword:"",userCred:{phoneRegion:"+380 ",email:"",password:"",firstname:"",lastname:"",surname:"",phone:""}}},methods:{login(){this.isValidEmail&&this.userCred.password?this.$store.dispatch("login",this.userCred):this.emptyInputData=!0},toggleStartWindow(){this.emptyInputData=!1,this.createAccountWindow=!this.createAccountWindow,(this.loginErrorMessage||this.createErrorMessage)&&this.clearErrorsData()},createAccountWithGoogle(){this.$store.dispatch("createAccountWithGoogle")},createAccount(){!this.isValidEmail||(9!=this.userCred.phone.replace(/[_\-)(\s]/g,"").length||!this.userCred.phone.replace(/[_\-)(\s]/g,"").length)&&this.userCred.phone.replace(/[_\-)(\s]/g,"").length||!this.isValidName(this.userCred.firstname)||!this.isValidName(this.userCred.lastname)&&this.userCred.lastname||!this.isValidName(this.userCred.surname)&&this.userCred.surname||!this.isPasswordsEqual?this.emptyInputData=!0:this.$store.dispatch("createAccount",this.userCred)},isValidName(e){return/^[a-zA-Zа-яА-ЯёЁґҐіІїЇєЄ' -]+$/.test(e)},clearErrorsData(){this.$store.commit("clearErrorsData")}},computed:{isValidPhone(){return/^((\+?3)?8)?((0\(\d{2}\)?)|(\(0\d{2}\))|(0\d{2}))\d{7}$/.test(this.userCred.phoneNumber.replace(/[\s-]/g,""))},isLoggedIn(){return this.$store.getters["isLoggedIn"]},isValidEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.userCred.email)},isPasswordsEqual(){return this.userCred.password===this.secondPassword&&this.userCred.password},loginErrorMessage(){return this.$store.getters.getLoginErrorMessage},createErrorMessage(){return this.$store.getters.getCreateErrorMessage},passwordErrorMessage(){if(this.createAccountWindow){if(this.userCred.password&&this.userCred.password.length<6&&this.secondPassword&&this.userCred.password!=this.secondPassword)return"Пароль занадто короткий та не співпадає";if(this.userCred.password&&this.userCred.password.length<6)return"Пароль занадто короткий";if(this.userCred.password&&!this.secondPassword)return"Введіть повторний пароль";if(!this.isPasswordsEqual&&this.secondPassword)return"Поролі не співпадають";if(this.emptyInputData&&!this.userCred.password)return"Введіть пароль"}return!this.userCred.password&&this.emptyInputData?"Введіть пароль":""},registerAndLoginErrorMessage(){return this.createErrorMessage&&this.createAccountWindow?this.createErrorMessage:!(!this.loginErrorMessage||this.createAccountWindow)&&this.loginErrorMessage}},created(){},mounted(){}},d=c,u=t(2528),p=(0,u.c)(d,n,l,!1,null,null,null),h=p.exports,v=function(){var e=this,s=e._self._c;return s("div",{staticClass:"menu-container"},[s("div",{staticClass:"user-menu-container"},[s("span",{staticClass:"company-name"},[e._v("Belogvi")]),s("div",{staticClass:"user-name-icon-container",on:{click:function(s){return e.toggleUserIcons()}}},[s("span",{staticClass:"user-fio"},[e._v(e._s((this.userInfo.lastname?this.userInfo.lastname+" ":"")+(this.userInfo.firstname?this.userInfo.firstname:"")))]),s("div",{staticClass:"user-profile-button"},[e.isMouseOver?e._e():s("img",{attrs:{src:t(4232)}}),e.isMouseOver?s("img",{attrs:{src:t(5636)}}):e._e()]),e.isProfileMenuVisible?s("div",{staticClass:"menu-choice-container",class:{"v-enter":e.isProfileMenuVisible}},[s("ul",{staticClass:"profile-menu"},[s("li",{on:{click:function(s){return e.openCloseProfile()}}},[e._v(e._s(e.userProfileIsOpened?"Повернутись":"Профіль"))]),s("li",{staticClass:"end-session",on:{click:function(s){return e.logout()}}},[e._v("Вийти з акаунту")])])]):e._e()])]),e.userProfileIsOpened?s("div",{staticClass:"user-profile-wrapper"},[s("h2",{staticClass:"profile-title"},[e._v("Ваш профіль")]),e.editUserInfoWindowIsOpened?e._e():s("div",{staticClass:"user-info-box"},[s("div",{staticClass:"user-info-container"},[s("h2",{staticClass:"user-name"},[e._v(e._s(e.getUserFullName()))]),s("div",{staticClass:"user-info-text"},[s("span",{staticClass:"information-title"},[e._v(" Пошта:")]),s("span",{staticClass:"user-information"},[e._v(" "+e._s(this.userInfo.email))])]),s("div",{staticClass:"user-info-text"},[s("span",{staticClass:"information-title"},[e._v(" Номер:")]),s("span",{staticClass:"user-information"},[e._v(" "+e._s(this.userInfo.phoneNumber?this.userInfo.phoneNumber:"Не вказаний"))])]),s("div",{staticClass:"user-info-text"},[s("span",{staticClass:"information-title"},[e._v(" Посада:")]),s("span",{staticClass:"user-information"},[e._v(" "+e._s(e.displayUserRole()))])])]),s("div",{staticClass:"control-buttons-container"},[s("button",{staticClass:"control-button",on:{click:e.openEditUserProfile}},[e._v("Редагувати")]),s("button",{staticClass:"control-button",on:{click:function(s){e.userProfileIsOpened=!1}}},[e._v("Назад")])])]),e.editUserInfoWindowIsOpened?s("div",{staticClass:"edit-profile-menu-container"},[s("h2",[e._v("Вікно редагування профілю")]),s("div",{staticClass:"fio-box-inputs-container"},[s("div",{staticClass:"first-name-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserData.firstname,expression:"newUserData.firstname"}],class:{"invalid-register-inputs-true":!e.isValidName(e.newUserData.firstname)&&(e.newUserData.firstname||e.emptyInputData)},attrs:{type:"text",id:"first-name",placeholder:"Ім'я *"},domProps:{value:e.newUserData.firstname},on:{input:function(s){s.target.composing||e.$set(e.newUserData,"firstname",s.target.value)}}}),e.isValidName(e.newUserData.firstname)||!e.newUserData.firstname&&!e.emptyInputData?e._e():s("label",{staticClass:"invalid-register-inputs",attrs:{for:"first-name"}},[e._v(" "+e._s(e.emptyInputData&&!e.newUserData.firstname?"Заповніть поле":"Некорректно")+" ")])]),s("div",{staticClass:"last-name-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserData.lastname,expression:"newUserData.lastname"}],class:{"invalid-register-inputs-true":!e.isValidName(e.newUserData.lastname)&&e.newUserData.lastname},attrs:{type:"text",id:"last-name",placeholder:"Прізвище"},domProps:{value:e.newUserData.lastname},on:{input:function(s){s.target.composing||e.$set(e.newUserData,"lastname",s.target.value)}}}),!e.isValidName(e.newUserData.lastname)&&e.newUserData.lastname?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"last-name"}},[e._v(" Некорректно ")]):e._e()]),s("div",{staticClass:"surname-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserData.surname,expression:"newUserData.surname"}],class:{"invalid-register-inputs-true":!e.isValidName(e.newUserData.surname)&&e.newUserData.surname},attrs:{type:"text",id:"surname",placeholder:"По-батькові"},domProps:{value:e.newUserData.surname},on:{input:function(s){s.target.composing||e.$set(e.newUserData,"surname",s.target.value)}}}),!e.isValidName(e.newUserData.surname)&&e.newUserData.surname?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"surname"}},[e._v(" Некорректно ")]):e._e()])]),s("div",{staticClass:"phone-number-container"},[s("div",{staticClass:"ukraine-number-code"},[s("span",[e._v(e._s(e.phoneRegion))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserData.phoneNumber,expression:"newUserData.phoneNumber"},{name:"phone",rawName:"v-phone"}],class:{"invalid-register-inputs-true":e.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length&&e.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length<9},attrs:{type:"tel",id:"phone",placeholder:"(__) ___-__-__",autocomplete:"tel"},domProps:{value:e.newUserData.phoneNumber},on:{input:function(s){s.target.composing||e.$set(e.newUserData,"phoneNumber",s.target.value)}}})]),e.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length&&e.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length<9&&e.editUserInfoWindowIsOpened?s("label",{staticClass:"invalid-register-inputs",attrs:{for:"phone"}},[e._v(" Номер неповний ")]):e._e(),s("div",{staticClass:"edit-profile-buttons-container"},[s("button",{staticClass:"edit-profile-button",on:{click:e.saveEditedUserProfile}},[e._v("Зберегти зміни")]),s("button",{staticClass:"edit-profile-button",on:{click:function(s){e.editUserInfoWindowIsOpened=!1}}},[e._v("Назад")])])]):e._e()]):e._e()])},m=[];const C={admin:"Адміністратор",manager:"Менеджер",repairman:"Ремонтник",coordinator:"Координатор",driver:"Водій"};var f={name:"MenuBar",props:{},directives:{phone:o},data(){return{isProfileMenuVisible:!1,isMouseOver:!1,userInfo:"",userProfileIsOpened:!1,emptyInputData:!1,editUserInfoWindowIsOpened:"",phoneRegion:"+380 ",newUserData:{phoneNumber:"",firstname:"",lastname:"",surname:""}}},methods:{toggleUserIcons(){this.isMouseOver=!this.isMouseOver,this.isProfileMenuVisible=!this.isProfileMenuVisible},logout(){this.$store.dispatch("logout")},getUserFullName(){return console.log(),(this.userInfo.lastname?this.userInfo.lastname+" ":"")+this.userInfo.firstname+(this.userInfo.surname?" "+this.userInfo.surname:"")},openCloseProfile(){this.userProfileIsOpened?this.userProfileIsOpened=!1:this.userProfileIsOpened=!0,this.toggleUserIcons()},displayUserRole(){return this.userInfo.role?C[this.userInfo.role]:"Очікує підтвердження"},isValidName(e){return/^[a-zA-Zа-яА-ЯёЁґҐіІїЇєЄ' -]+$/.test(e)},replaceUnderscoresWithNumbers(e,s){const t=s.replace(this.phoneRegion,"").replace(/[_\-)(\s]/g,"");let a=e,r=0;for(const i of e)"_"===i&&(a=a.replace("_",t[r]),r++);return a},openEditUserProfile(){this.editUserInfoWindowIsOpened=!0,this.userInfo.phoneNumber.length?(console.log(this.userInfo.phoneNumber),this.newUserData.phoneNumber=this.replaceUnderscoresWithNumbers("(__) ___-__-__",this.userInfo.phoneNumber)):this.newUserData.phoneNumber="(__) ___-__-__",this.newUserData.firstname=this.userInfo.firstname,this.newUserData.lastname=this.userInfo.lastname,this.newUserData.surname=this.userInfo.surname},saveEditedUserProfile(){(9!=this.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length||!this.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length)&&this.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length||!this.isValidName(this.newUserData.firstname)||!this.isValidName(this.newUserData.lastname)&&this.newUserData.lastname||!this.isValidName(this.newUserData.surname)&&this.newUserData.surname?this.emptyInputData=!0:(this.newUserData.phoneNumber=this.newUserData.phoneNumber.replace(/[_\-)(\s]/g,"").length?this.phoneRegion+this.newUserData.phoneNumber:"",this.userInfo.firstname=this.newUserData.firstname,this.userInfo.lastname=this.newUserData.lastname,this.userInfo.surname=this.newUserData.surname,this.userInfo.phoneNumber=this.newUserData.phoneNumber?this.newUserData.phoneNumber:"",this.$store.dispatch("updateUserAccount",{newData:this.newUserData,uid:this.userInfo.uid}),this.editUserInfoWindowIsOpened=!1)}},computed:{getUserInfo(){return this.$store.getters["getUserInfo"]}},mounted(){localStorage.getItem("uid")&&this.$store.dispatch("setAccountInfo",localStorage.getItem("uid")).then((()=>{this.userInfo=this.getUserInfo}))}},g=f,I=(0,u.c)(g,v,m,!1,null,null,null),_=I.exports,A=function(){var e=this,s=e._self._c;return s("div",{staticClass:"users-management-container"},[s("div",{staticClass:"all-confirmed-users"},[s("h2",{staticClass:"workers-title"},[e._v("Працівники")]),s("div",{staticClass:"workers-container"},[s("div",{staticClass:"control-menu-container"},[s("div",{staticClass:"custom-select"},[s("div",{staticClass:"selected-option",class:e.searchRoleSelectIsOpen?"selected-option-is-active":"",on:{click:function(s){return e.toggleOpenCloseUserRoleSelect("selected-search")}}},[s("span",[e._v(e._s(e.selectedSearchRole))]),s("img",{class:e.searchRoleSelectIsOpen?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),"selected-search"==e.selectUserRoleIsOpen?s("div",{staticClass:"options-container"},["Усі працівники"!=e.selectedSearchRole?s("div",{staticClass:"option",on:{click:function(s){return e.displayAllRoles("selected-search")}}},[e._v("Усі працівники")]):e._e(),e._l(e.allUserRoles,(function(t){return[e.selectedSearchRole!=e.displaySearchRole(t)?s("div",{key:t,staticClass:"option",on:{click:function(s){return e.setSelectedSearchRole("selected-search",t)}}},[e._v(e._s(e.displaySearchRole(t)))]):e._e()]})),"Очікують підтвердження"!=e.selectedSearchRole?s("div",{staticClass:"option",on:{click:function(s){return e.setSelectedSearchRole("selected-search","")}}},[e._v("Очікують підтвердження")]):e._e()],2):e._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"find-user-input",attrs:{type:"text",placeholder:"Пошук..."},domProps:{value:e.searchQuery},on:{input:function(s){s.target.composing||(e.searchQuery=s.target.value)}}})]),s("div",{staticClass:"filtered-users-container"},[e._l(e.filteredUsers,(function(a){return["Усі працівники"==e.selectedSearchRole||e.displaySearchRole(a.role)==e.selectedSearchRole?s("div",{key:a.uid,staticClass:"user-card"},[s("h2",[e._v(e._s(a.lastname?a.lastname+" ":"")+e._s(a.firstname)+e._s(a.surname?" "+a.surname:""))]),s("ul",[s("li",[e._v("Пошта: "+e._s(a.email))]),s("li",[e._v("Номер: "+e._s(a.phoneNumber?a.phoneNumber:"Не вказаний"))]),s("div",{staticClass:"user-role-field"},[s("span",[e._v("Посада:")]),s("div",{staticClass:"custom-select"},[s("div",{staticClass:"selected-option",class:e.selectUserRoleIsOpen==a.uid?"selected-option-is-active":"",on:{click:function(s){return e.toggleOpenCloseUserRoleSelect(a.uid)}}},[s("span",[e._v(e._s(e.displayRole(e.selectedUserRole[a.uid])))]),s("img",{class:e.selectUserRoleIsOpen==a.uid?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),e.selectUserRoleIsOpen==a.uid?s("div",{staticClass:"options-container"},[e._l(e.allUserRoles,(function(t){return[e.selectedUserRole[a.uid]!=t?s("div",{key:t,staticClass:"option",on:{click:function(s){return e.setSelectedUserRole(a.uid,t)}}},[e._v(e._s(e.displayRole(t)))]):e._e()]})),e.selectedUserRole[a.uid]?s("div",{staticClass:"option",on:{click:function(s){return e.setSelectedUserRole(a.uid,"")}}},[e._v("Очікує підтвердження")]):e._e()],2):e._e()]),e.selectedUserRole[a.uid]&&a.role!=e.selectedUserRole[a.uid]?s("button",{on:{click:function(s){return e.updateUserRole(a.uid,e.selectedUserRole[a.uid])}}},[e._v("Зберегти")]):e._e()])])]):e._e()]}))],2)])])])},R=[];t(3248);const w={admin:"Адміністратор",manager:"Менеджер",repairman:"Ремонтник",coordinator:"Координатор",driver:"Водій"},D={admin:"Адміністратори",manager:"Менеджери",repairman:"Ремонтники",coordinator:"Координатори",driver:"Водії"};var b={name:"UsersManagement",props:{},data(){return{allUsers:[],allUserRoles:[],searchRoleSelectIsOpen:!1,selectedSearchRole:"Усі працівники",selectUserRoleIsOpen:"",selectedUserRole:{},searchQuery:""}},methods:{displayRole(e){return e?w[e]:"Очікує підтвердження"},displaySearchRole(e){return e?D[e]:"Очікують підтвердження"},setSelectedSearchRole(e,s){this.selectedSearchRole=this.displaySearchRole(s),this.toggleOpenCloseUserRoleSelect(e)},toggleOpenCloseUserRoleSelect(e){this.selectUserRoleIsOpen==e?this.selectUserRoleIsOpen="":this.selectUserRoleIsOpen=e},setSelectedUserRole(e,s){this.selectedUserRole[e]=s,this.toggleOpenCloseUserRoleSelect(e)},displayAllRoles(e){this.selectedSearchRole="Усі працівники",this.toggleOpenCloseUserRoleSelect(e)},updateUserRole(e,s){const t=this.allUsers.findIndex((s=>s.uid===e));return-1!==t?("driver"==this.allUsers[t].role&&this.allUsers[t].car&&(this.$store.dispatch("updateCarDriver",{driver:"",licensePlate:this.allUsers[t].car}),this.$store.dispatch("updateUserCar",{driver:e,licensePlate:""}),delete this.allUsers[t].car),this.allUsers[t].role=s):console.error(`Користувач с UID ${e} не знайдений.`),this.$store.dispatch("updateUserRole",{uid:e,role:s})}},computed:{filteredUsers(){return this.searchQuery?this.allUsers.filter((e=>{const s=Object.keys(e).filter((e=>"uid"!==e&&"role"!==e));return s.some((s=>String(e[s]).toLowerCase().includes(this.searchQuery.toLowerCase())))})):this.allUsers}},mounted(){this.$store.dispatch("getAllUsers").then((e=>{e.forEach((e=>{var s=e.data();this.allUsers.push(s),this.selectedUserRole[s.uid]=s.role}))})),this.$store.dispatch("getAllUserRoles").then((e=>{e.forEach((e=>{this.allUserRoles.push(e.id)}))}))}},P=b,B=(0,u.c)(P,A,R,!1,null,null,null),O=B.exports,U=function(){var e=this,s=e._self._c;return s("div",{staticClass:"repair-coordination-container"},[s("h2",{staticClass:"repair-panel-title"},[e._v(e._s(e.createCarPanelIsOpened?"Створення нової машини":"Техніка")+" ")]),e.createCarPanelIsOpened?s("div",{staticClass:"create-car-container"},[s("div",{staticClass:"info-fields-container"},[s("div",{staticClass:"car-info-field"},[s("div",{staticClass:"custom-select"},[s("span",{staticClass:"car-create-subtitle"},[e._v("Модель: ")]),s("div",{staticClass:"selected-option",class:["select-models"===e.selectFilterIsOpen?"selected-option-is-active":"",e.carCreateError&&!e.createCarInfo.model?"invalid-create-car-selects-true":""],on:{click:function(s){return e.openCloseCarStateSelect("select-models")}}},["select-models"==e.selectFilterIsOpen||e.selectFindModel?e._e():s("span",{staticClass:"select-value-text"},[e._v(e._s(e.createCarInfo.model?e.createCarInfo.model:"Не визначена"))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectFindModel,expression:"selectFindModel"}],attrs:{type:"text",placeholder:"select-models"==e.selectFilterIsOpen?e.createCarInfo.model?e.createCarInfo.model:"Не визначена":""},domProps:{value:e.selectFindModel},on:{input:function(s){s.target.composing||(e.selectFindModel=s.target.value)}}}),s("img",{class:"select-models"==e.selectFilterIsOpen?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),"select-models"==e.selectFilterIsOpen?s("div",{staticClass:"options-container"},[s("div",{staticClass:"option"},[e.createCarModelIsOpen?s("img",{staticClass:"edit-icon",attrs:{src:t(4556),alt:""},on:{click:function(s){return e.saveEditedModel(e.editModelValue,e.editModelValue)}}}):e._e(),e.createCarModelIsOpen?e._e():s("img",{staticClass:"add-model-image",attrs:{src:t(7067),alt:""},on:{click:function(s){e.createCarModelIsOpen=!0}}}),e.createCarModelIsOpen?s("input",{directives:[{name:"model",rawName:"v-model",value:e.editModelValue,expression:"editModelValue"}],staticClass:"edit-model-input",attrs:{type:"text"},domProps:{value:e.editModelValue},on:{input:function(s){s.target.composing||(e.editModelValue=s.target.value)}}}):e._e(),e.createCarModelIsOpen?s("img",{staticClass:"edit-icon",attrs:{src:t(7644),alt:""},on:{click:function(s){e.createCarModelIsOpen=!1}}}):e._e()]),e._l(e.filterCarModels,(function(a,r){return[s("div",{key:r,staticClass:"option"},[e.editCarModelIsEnabled!=r?s("img",{attrs:{src:t(6484),alt:""},on:{click:function(s){return e.enableEditCarModel(r)}}}):e._e(),e.editCarModelIsEnabled==r?s("img",{staticClass:"edit-icon",attrs:{src:t(4556),alt:""},on:{click:function(s){return e.saveEditedModel(a,e.editModelValue)}}}):e._e(),e.editCarModelIsEnabled!=r?s("span",{staticClass:"car-model-name",on:{click:function(s){return e.setCreatingCarModel(a)}}},[e._v(e._s(a))]):e._e(),e.editCarModelIsEnabled==r?s("input",{directives:[{name:"model",rawName:"v-model",value:e.editModelValue,expression:"editModelValue"}],staticClass:"edit-model-input",attrs:{type:"text"},domProps:{value:e.editModelValue},on:{input:function(s){s.target.composing||(e.editModelValue=s.target.value)}}}):e._e(),e.editCarModelIsEnabled!=r?s("img",{attrs:{src:t(5196),alt:""},on:{click:function(s){return e.deleteCarModel(a)}}}):e._e(),e.editCarModelIsEnabled==r?s("img",{staticClass:"edit-icon",attrs:{src:t(7644),alt:""},on:{click:e.disableEditCarModel}}):e._e()])]}))],2):e._e()])]),e.carCreateError&&!e.createCarInfo.model?s("label",{staticClass:"invalid-create-car-inputs"},[e._v("Виберіть або введіть модель машини")]):e._e(),s("div",{staticClass:"car-info-field"},[s("span",{staticClass:"car-create-subtitle"},[e._v("Ліцензійний номер: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createCarInfo.licensePlate,expression:"createCarInfo.licensePlate"}],staticClass:"car-input-field",class:e.carCreateError&&!e.createCarInfo.licensePlate||e.allCars[e.createCarInfo.licensePlate]?"invalid-create-car-inputs-true":"",attrs:{type:"text",id:"carLicenseNumber",maxlength:"10"},domProps:{value:e.createCarInfo.licensePlate},on:{input:[function(s){s.target.composing||e.$set(e.createCarInfo,"licensePlate",s.target.value)},e.validateLicensePlate]}})]),e.carCreateError&&!e.createCarInfo.licensePlate||e.allCars[e.createCarInfo.licensePlate]?s("label",{staticClass:"invalid-create-car-inputs",attrs:{for:"carLicenseNumber"}},[e._v(e._s(e.allCars[e.createCarInfo.licensePlate]?"Машина з таким ліцензійним номером вже існує":"Введіть ліцензійний номер"))]):e._e(),s("div",{staticClass:"car-info-field"},[s("span",{staticClass:"car-create-subtitle"},[e._v("Пробіг (км): ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createCarInfo.mileage,expression:"createCarInfo.mileage"}],staticClass:"car-input-field",attrs:{type:"number",id:"carMilage",maxlength:"7"},domProps:{value:e.createCarInfo.mileage},on:{input:[function(s){s.target.composing||e.$set(e.createCarInfo,"mileage",s.target.value)},e.validateMileage]}})]),s("div",{staticClass:"car-info-field"},[s("div",{staticClass:"custom-select"},[s("span",{staticClass:"car-create-subtitle"},[e._v("Водій: ")]),s("div",{staticClass:"selected-option",class:"select-drivers-in-create"==e.selectFilterIsOpen?"selected-option-is-active":"",on:{click:function(s){return e.openCloseCarStateSelect("select-drivers-in-create")}}},[e.showDriverInfo.uid&&"select-drivers-in-create"==e.selectFilterIsOpen?s("div",{staticClass:"driver-info"},[s("h2",[e._v("Інформація про водія ")]),s("ul",[s("li",[e._v("ФІО: "+e._s(e.showDriverInfo.lastname?e.showDriverInfo.lastname+" ":"")+e._s(e.showDriverInfo.firstname)+e._s(e.showDriverInfo.surname?" "+e.showDriverInfo.surname:""))]),s("li",[e._v("Пошта: "+e._s(e.showDriverInfo.email))]),s("li",[e._v("Номер: "+e._s(e.showDriverInfo.phoneNumber?e.showDriverInfo.phoneNumber:"Не вказаний"))])])]):e._e(),"select-drivers-in-create"==e.selectFilterIsOpen||e.selectFindDriver["select-drivers-in-create"]?e._e():s("span",{staticClass:"select-value-text"},[e._v(e._s(e.getDriverPlaceholderByUid(e.createCarInfo.driver)))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectFindDriver["select-drivers-in-create"],expression:"selectFindDriver['select-drivers-in-create']"}],attrs:{type:"text",placeholder:"select-drivers-in-create"==e.selectFilterIsOpen?e.getDriverPlaceholderByUid(e.createCarInfo.driver):""},domProps:{value:e.selectFindDriver["select-drivers-in-create"]},on:{input:function(s){s.target.composing||e.$set(e.selectFindDriver,"select-drivers-in-create",s.target.value)}}}),s("img",{class:"select-drivers-in-create"==e.selectFilterIsOpen?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),"select-drivers-in-create"==e.selectFilterIsOpen?s("div",{staticClass:"options-container"},[e.createCarInfo.driver?s("div",{staticClass:"option",on:{click:function(s){return e.selectCreatingCarDriver("")}}},[s("span",{staticClass:"base-select-driver-option"},[e._v("Без водія")])]):e._e(),e._l(e.filteredDrivers,(function(t){return[t.car?e._e():s("div",{key:t.uid,staticClass:"option"},[s("span",{staticClass:"driver-fio",on:{click:function(s){return e.selectCreatingCarDriver(t.uid)}}},[e._v(e._s((t.lastname?t.lastname+" ":"")+t.firstname+(t.surname?" "+t.surname:"")))]),s("button",{staticClass:"driver-info-button",on:{mouseover:function(s){return e.setDriverInfo(t)},mouseout:function(s){return e.setDriverInfo("")}}},[e._v("?")])])]})),e.filteredDrivers.length?e._e():s("div",{staticClass:"option"},[s("span",{staticClass:"driver-fio"},[e._v("Співпадінь не знайдено")])])],2):e._e()])]),e.carIsCreated?s("span",{staticClass:"invalid-create-car-inputs"},[e._v("Готово!")]):e._e()]),s("div",{staticClass:"control-buttons-container"},[s("button",{staticClass:"create-car",on:{click:function(s){return e.createNewCar()}}},[e._v("Створити")]),s("button",{staticClass:"cansel-create",on:{click:function(s){return e.closeCreatingCarPanel()}}},[e._v("Назад")])])]):e._e(),e.createCarPanelIsOpened?e._e():s("div",{staticClass:"cars-container"},[s("div",{staticClass:"control-menu-container"},[s("div",{staticClass:"buttons-wrapper"},[s("div",{staticClass:"custom-select"},[s("div",{staticClass:"selected-option",class:"selected-search"==e.selectFilterIsOpen?"selected-option-is-active":"",on:{click:function(s){return e.openCloseCarStateSelect("selected-search")}}},[s("span",[e._v(e._s(e.displayFilterCarStates(e.selectedCarState["selected-search"])))]),s("img",{class:"selected-search"==e.selectFilterIsOpen?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),"selected-search"==e.selectFilterIsOpen?s("div",{staticClass:"options-container state-option-container"},["allCars"!=e.selectedCarState["selected-search"]?s("div",{staticClass:"option",on:{click:function(s){return e.selectCarState("selected-search","allCars")}}},[s("span",{staticClass:"state-option"},[e._v("Усі машини")])]):e._e(),"inUse"!=e.selectedCarState["selected-search"]?s("div",{staticClass:"option",on:{click:function(s){return e.selectCarState("selected-search","inUse")}}},[s("span",{staticClass:"state-option"},[e._v("Працюючі машини")])]):e._e(),"sentToRepair"!=e.selectedCarState["selected-search"]?s("div",{staticClass:"option",on:{click:function(s){return e.selectCarState("selected-search","sentToRepair")}}},[s("span",{staticClass:"state-option"},[e._v("Направлені на ремонт")])]):e._e(),"beingRepaired"!=e.selectedCarState["selected-search"]?s("div",{staticClass:"option",on:{click:function(s){return e.selectCarState("selected-search","beingRepaired")}}},[s("span",{staticClass:"state-option"},[e._v("Ремонтуються")])]):e._e()]):e._e()]),s("button",{staticClass:"add-car-button",on:{click:function(s){e.createCarPanelIsOpened=!0}}},[s("span",[e._v("Додати машину")])])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"find-car-input",attrs:{type:"text",placeholder:"Пошук..."},domProps:{value:e.searchQuery},on:{input:function(s){s.target.composing||(e.searchQuery=s.target.value)}}})]),s("div",{staticClass:"filtered-cars-container"},[!e.filteredCars.length&&e.searchQuery?s("span",[e._v("Співпадінь не знайдено")]):e._e(),e._l(e.filteredCars,(function(a){return["allCars"==e.selectedCarState["selected-search"]||e.selectedCarState["selected-search"]==a.state?s("div",{key:a.licensePlate,staticClass:"car-card"},[e.deleteCarWindowIsOpen==a.licensePlate?s("div",{staticClass:"confirmation-delete-car-window"},[s("span",{staticClass:"delete-car-title"},[e._v("Ви дійно хочете видатили цю машину?")]),s("div",{staticClass:"delete-car-buttons-container"},[s("button",{staticClass:"delete-car-button",on:{click:function(s){return e.deleteCar(a.licensePlate)}}},[e._v("Видалити")]),s("button",{staticClass:"cancel-delete-car-button",on:{click:function(s){e.deleteCarWindowIsOpen=""}}},[e._v("Відмінити")])])]):e._e(),e.showDriverInfo.uid&&e.selectFilterIsOpen==a.licensePlate||e.selectedDriverInfoIsOpened==a.licensePlate&&e.showDriverInfo.uid?s("div",{staticClass:"driver-info"},[s("h2",[e._v("Інформація про водія ")]),s("ul",[s("li",[e._v("ФІО: "+e._s(e.showDriverInfo.lastname?e.showDriverInfo.lastname+" ":"")+e._s(e.showDriverInfo.firstname)+e._s(e.showDriverInfo.surname?" "+e.showDriverInfo.surname:""))]),s("li",[e._v("Пошта: "+e._s(e.showDriverInfo.email))]),s("li",[e._v("Номер: "+e._s(e.showDriverInfo.phoneNumber?e.showDriverInfo.phoneNumber:"Не вказаний"))])])]):e._e(),"opened"==e.sentCarToRepairWindowIsOpen[a.licensePlate]?s("div",{staticClass:"sent-car-to-repair-window"},[s("h2",[e._v(e._s(e.selectedRepairBase[a.licensePlate]?"Обрана база ремонту":"Оберіть базу ремонту"))]),s("div",{staticClass:"custom-select"},[s("div",{staticClass:"selected-option",class:e.selectCarRepairBaseIsOpen.includes(a.licensePlate)?"selected-option-is-active":"",on:{click:function(s){return e.openCloseCarRepairBaseSelect(a.licensePlate)}}},[e.selectCarRepairBaseIsOpen.includes(a.licensePlate)||e.searchRepairBaseValue[a.licensePlate]?e._e():s("span",{staticClass:"select-value-text"},[e._v(e._s(e.selectedRepairBase[a.licensePlate]?e.selectedRepairBase[a.licensePlate].name+" "+e.selectedRepairBase[a.licensePlate].adress:"Не визначена"))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchRepairBaseValue[a.licensePlate],expression:"searchRepairBaseValue[car.licensePlate]"}],attrs:{type:"text",placeholder:e.selectCarRepairBaseIsOpen.includes(a.licensePlate)?e.selectedRepairBase[a.licensePlate]?e.selectedRepairBase[a.licensePlate].name+" "+e.selectedRepairBase[a.licensePlate].adress:"Не визначена":""},domProps:{value:e.searchRepairBaseValue[a.licensePlate]},on:{input:function(s){s.target.composing||e.$set(e.searchRepairBaseValue,a.licensePlate,s.target.value)}}}),s("img",{class:e.selectCarRepairBaseIsOpen.includes(a.licensePlate)?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),e.selectCarRepairBaseIsOpen.includes(a.licensePlate)?s("div",{staticClass:"options-container"},[s("div",{staticClass:"option base-option"},[e.createRepairBaseIsOpen[a.licensePlate]?s("img",{staticClass:"edit-icon",attrs:{src:t(4556),alt:""},on:{click:function(s){return e.createRepairBase(a.licensePlate,e.createRepairBaseValue[a.licensePlate])}}}):e._e(),e.createRepairBaseIsOpen[a.licensePlate]?e._e():s("img",{staticClass:"add-repair-base-image",attrs:{src:t(7067),alt:""},on:{click:function(s){return e.openCreateRepairBase(a.licensePlate)}}}),s("div",{staticClass:"repair-base-inputs-container"},[e.createRepairBaseIsOpen[a.licensePlate]?s("input",{directives:[{name:"model",rawName:"v-model",value:e.createRepairBaseValue[a.licensePlate].name,expression:"createRepairBaseValue[car.licensePlate].name"}],staticClass:"repair-base-input",attrs:{placeholder:"Назва",type:"text"},domProps:{value:e.createRepairBaseValue[a.licensePlate].name},on:{input:function(s){s.target.composing||e.$set(e.createRepairBaseValue[a.licensePlate],"name",s.target.value)}}}):e._e(),e.createRepairBaseIsOpen[a.licensePlate]?s("input",{directives:[{name:"model",rawName:"v-model",value:e.createRepairBaseValue[a.licensePlate].adress,expression:"createRepairBaseValue[car.licensePlate].adress"}],staticClass:"repair-base-input",attrs:{placeholder:"Адресса",type:"text"},domProps:{value:e.createRepairBaseValue[a.licensePlate].adress},on:{input:function(s){s.target.composing||e.$set(e.createRepairBaseValue[a.licensePlate],"adress",s.target.value)}}}):e._e()]),e.createRepairBaseIsOpen[a.licensePlate]?s("img",{staticClass:"edit-icon",attrs:{src:t(7644),alt:""},on:{click:function(s){return e.closeCreateRepairBase(a.licensePlate)}}}):e._e()]),e._l(e.filterRepairBases(a.licensePlate),(function(r){return[s("div",{key:r.id,staticClass:"option base-option"},[e.editRepairBaseIsEnabled[a.licensePlate]!=r.id?s("img",{attrs:{src:t(6484),alt:""},on:{click:function(s){return e.enableEditRepairBase(a.licensePlate,r)}}}):e._e(),e.editRepairBaseIsEnabled[a.licensePlate]==r.id?s("img",{staticClass:"edit-icon",attrs:{src:t(4556),alt:""},on:{click:function(s){return e.saveEditedRepairBase(a.licensePlate,r.id,e.editRepairBaseValue[a.licensePlate])}}}):e._e(),e.editRepairBaseIsEnabled[a.licensePlate]!=r.id?s("span",{staticClass:"repair-base-name",on:{click:function(s){return e.selectRepairBase(a.licensePlate,e.allRepairBases[r.id])}}},[e._v(e._s(r.name+" "+r.adress))]):e._e(),s("div",{staticClass:"repair-base-inputs-container"},[e.editRepairBaseIsEnabled[a.licensePlate]==r.id?s("input",{directives:[{name:"model",rawName:"v-model",value:e.editRepairBaseValue[a.licensePlate].name,expression:"editRepairBaseValue[car.licensePlate].name"}],staticClass:"repair-base-input",attrs:{type:"text"},domProps:{value:e.editRepairBaseValue[a.licensePlate].name},on:{input:function(s){s.target.composing||e.$set(e.editRepairBaseValue[a.licensePlate],"name",s.target.value)}}}):e._e(),e.editRepairBaseIsEnabled[a.licensePlate]==r.id?s("input",{directives:[{name:"model",rawName:"v-model",value:e.editRepairBaseValue[a.licensePlate].adress,expression:"editRepairBaseValue[car.licensePlate].adress"}],staticClass:"repair-base-input",attrs:{type:"text"},domProps:{value:e.editRepairBaseValue[a.licensePlate].adress},on:{input:function(s){s.target.composing||e.$set(e.editRepairBaseValue[a.licensePlate],"adress",s.target.value)}}}):e._e()]),e.editRepairBaseIsEnabled[a.licensePlate]==r.id?s("img",{staticClass:"edit-icon",attrs:{src:t(7644),alt:""},on:{click:function(s){return e.disableEditRepairBase(a.licensePlate)}}}):e._e()])]})),e.searchRepairBaseValue[a.licensePlate]&&!e.filterRepairBases(a.licensePlate).length?s("div",{staticClass:"repair-base-not-finded-message"},[s("span",[e._v("Співпадінь не знaйдено")])]):e._e()],2):e._e()]),s("div",{staticClass:"sent-to-repair-buttons-container"},[s("button",{staticClass:"accept-sent-to-repair-button",class:e.selectedRepairBase[a.licensePlate]?"":"non-active-button",on:{click:function(s){e.selectedRepairBase[a.licensePlate]&&e.setCarRepairBase(a.licensePlate,e.selectedRepairBase[a.licensePlate])}}},[e._v(" Підтвердити ")]),s("button",{staticClass:"cancel-sent-to-repair-button",on:{click:function(s){return e.$delete(e.sentCarToRepairWindowIsOpen,a.licensePlate)}}},[e._v("Назад")])])]):e._e(),s("div",{staticClass:"car-card-title"},[s("div",{staticClass:"empty-block"}),s("h2",[e._v(e._s(a.model))]),s("div",{staticClass:"delete-button-container",on:{click:function(s){e.deleteCarWindowIsOpen=a.licensePlate,e.selectFilterIsOpen=""}}},[s("img",{attrs:{src:t(8428),alt:""}})])]),s("ul",[s("li",[e._v("Ліцензійний номер: "+e._s(a.licensePlate))]),s("li",[e._v("Пробіг: "+e._s(a.mileage)+" км")]),s("div",{staticClass:"car-driver-field"},[s("span",[e._v("Водій: ")]),s("div",{staticClass:"custom-select"},[s("div",{staticClass:"selected-option",class:e.selectFilterIsOpen==a.licensePlate?"selected-option-is-active":"",on:{click:function(s){return e.openCloseCarStateSelect(a.licensePlate)}}},[e.selectFilterIsOpen==a.licensePlate||e.selectFindDriver[a.licensePlate]?e._e():s("span",{staticClass:"select-value-text"},[e._v(e._s(e.getSelectedOrExistingDriverName(a.licensePlate,a.driver)))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectFindDriver[a.licensePlate],expression:"selectFindDriver[car.licensePlate]"}],attrs:{type:"text",placeholder:e.selectFilterIsOpen==a.licensePlate?e.getSelectedOrExistingDriverName(a.licensePlate,a.driver):""},domProps:{value:e.selectFindDriver[a.licensePlate]},on:{input:function(s){s.target.composing||e.$set(e.selectFindDriver,a.licensePlate,s.target.value)}}}),s("img",{class:e.selectFilterIsOpen==a.licensePlate?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),e.selectFilterIsOpen==a.licensePlate?s("div",{staticClass:"options-container car-cars-option-container"},[s("div",{staticClass:"base-select-option-container"},[a.driver&&"withoutDriver"!=e.selectedCarDrivers[a.licensePlate]?s("div",{staticClass:"base-select-driver-option",on:{click:function(s){return e.selectCarDriver(a.licensePlate,"withoutDriver")}}},[e._v("Без водія")]):e._e(),e.saveDriverChoiceButtonIsEnabled(a.driver,a.licensePlate)?s("div",{staticClass:"base-select-driver-option",on:{click:function(s){return e.selectCarDriver(a.licensePlate,a.driver)}}},[e._v("Відмінити вибір")]):e._e()]),e._l(e.filteredDrivers,(function(t){return[t.car?e._e():s("div",{key:t.uid,staticClass:"option"},[s("span",{staticClass:"driver-fio",on:{click:function(s){return e.selectCarDriver(a.licensePlate,t.uid)}}},[e._v(e._s((t.lastname?t.lastname+" ":"")+t.firstname+(t.surname?" "+t.surname:"")))]),s("button",{staticClass:"driver-info-button",on:{mouseover:function(s){return e.setDriverInfo(t)},mouseout:function(s){return e.setDriverInfo("")}}},[e._v("?")])])]})),e.filteredDrivers.length?e._e():s("div",{staticClass:"base-select-option-container"},[s("span",{staticClass:"base-select-driver-option"},[e._v(e._s(e.filteredDrivers.length||e.selectFindDriver[a.licensePlate]?"Співпадінь не знайдено":"Немає вільних водіїв"))])])],2):e._e()]),a.driver&&!e.selectedCarDrivers[a.licensePlate]||e.selectedCarDrivers[a.licensePlate]&&"withoutDriver"!==e.selectedCarDrivers[a.licensePlate]?s("button",{staticClass:"selected-driver-info-button",on:{mouseover:function(s){return e.openSelectedDriverInfo(e.selectedCarDrivers[a.licensePlate]?e.selectedCarDrivers[a.licensePlate]:a.driver,a.licensePlate)},mouseout:function(s){return e.setDriverInfo("")}}},[e._v("?")]):e._e(),e.saveDriverChoiceButtonIsEnabled(a.driver,a.licensePlate)?s("button",{staticClass:"save-car-driver-button",on:{click:function(s){return e.saveSelectedCarDriver(a.driver,a.licensePlate)}}},[e._v("Зберегти")]):e._e()]),s("div",{staticClass:"sent-to-repair-button-container"},[a.repairBase?s("span",{staticClass:"car-state"},[e._v("Стан машини: "+e._s(e.displayCarState(a)))]):e._e(),a.repairBase?e._e():s("li",[e._v("Стан машини: "+e._s(e.displayCarState(a)))]),"inUse"==a.state&&a.driver?s("button",{staticClass:"open-sent-to-repair-window-button",on:{click:function(s){return e.$set(e.sentCarToRepairWindowIsOpen,a.licensePlate,"opened")}}},[e._v("На ремонт")]):e._e()])])]):e._e()]}))],2)])])},E=[];const k={allCars:"Усі машини",inUse:"Працюючі машини",sentToRepair:"Направлені на ремонт",beingRepaired:"Ремонтуються"},M={inUse:"В робочому стані",sentToRepair:"Направлена на ремонт",beingRepaired:"Ремонтується"};var y={name:"RepairCoordinatorPanel",props:{},data(){return{allCars:{},allCarModels:[],allRepairBases:{},allDrivers:{},selectFilterIsOpen:"",selectCarRepairBaseIsOpen:[],selectedDriverInfoIsOpened:"",selectedRepairBase:{},searchQuery:"",selectedCarState:{"selected-search":"allCars"},selectedCarDrivers:{},showDriverInfo:{},selectFindDriver:{},createCarPanelIsOpened:!1,selectFindModel:"",createCarInfo:{model:"",licensePlate:"",mileage:null,repairMileage:this.mileage,state:"inUse",driver:"",repairBase:""},editModelValue:"",createCarModelIsOpen:"",editCarModelIsEnabled:!1,carCreateError:!1,carIsCreated:!1,deleteCarWindowIsOpen:"",sentCarToRepairWindowIsOpen:{},searchRepairBaseValue:{},createRepairBaseIsOpen:{},createRepairBaseValue:{},editRepairBaseIsEnabled:{},editRepairBaseValue:{}}},methods:{openCloseCarStateSelect(e){this.selectFilterIsOpen==e?this.selectFilterIsOpen="":this.selectFilterIsOpen=e,this.carIsCreated&&(this.carIsCreated=!1)},openCloseCarRepairBaseSelect(e){const s=this.selectCarRepairBaseIsOpen.indexOf(e);-1!==s?this.selectCarRepairBaseIsOpen.splice(s,1):this.selectCarRepairBaseIsOpen.push(e),this.searchRepairBaseValue[e]&&this.$delete(this.searchRepairBaseValue,e)},selectRepairBase(e,s){this.$set(this.selectedRepairBase,e,s);const t=this.selectCarRepairBaseIsOpen.indexOf(e);-1!==t&&this.selectCarRepairBaseIsOpen.splice(t,1),this.searchRepairBaseValue[e]&&this.$delete(this.searchRepairBaseValue,e)},enableEditRepairBase(e,s){this.$set(this.editRepairBaseIsEnabled,e,s.id),this.$set(this.editRepairBaseValue,e,s)},disableEditRepairBase(e){this.$delete(this.editRepairBaseIsEnabled,e),this.$delete(this.editRepairBaseValue,e)},openCreateRepairBase(e){this.$set(this.createRepairBaseValue,e,{name:"",adress:""}),this.$set(this.createRepairBaseIsOpen,e,"opened")},createRepairBase(e,s){this.$store.dispatch("addRepairBase",s),this.closeCreateRepairBase(e),this.fetchRepairBases()},saveEditedRepairBase(e,s,t){this.$set(this.allRepairBases,s,{id:s,name:t.name,adress:t.adress}),this.$store.dispatch("updateRepairBase",{id:s,name:t.name,adress:t.adress}),this.disableEditRepairBase(e)},setCarRepairBase(e,s){this.$store.dispatch("setCarRepairBase",{id:s.id,licensePlate:e}),this.$set(this.allCars,e,{...this.allCars[e],repairBase:s.id,state:"sentToRepair"}),this.$delete(this.sentCarToRepairWindowIsOpen,e),delete this.selectedRepairBase[e],this.searchRepairBaseValue[e]&&delete this.searchRepairBaseValue[e]},closeCreateRepairBase(e){this.$delete(this.createRepairBaseIsOpen,e)},selectCarState(e,s){this.selectedCarState[e]=s,this.selectFilterIsOpen=""},selectCarDriver(e,s){this.selectedCarDrivers[e]=s,this.selectFindDriver[e]="",this.selectFilterIsOpen=""},displayFilterCarStates(e){return k[e]},displayCarStates(e){return M[e]},setDriverInfo(e){this.showDriverInfo=e},openSelectedDriverInfo(e,s){this.setDriverInfo(this.allDrivers[e]),this.selectedDriverInfoIsOpened=s},getDriverPlaceholderByLicensePlate(e){const s=this.selectedCarDrivers[e],t=this.allDrivers[s];if(t){const{firstname:e,lastname:s,surname:a}=t;return`${s?s+" ":""}${e}${a?" "+a:""}`}return"Без водія"},getDriverPlaceholderByUid(e){const s=this.allDrivers[e];if(s){const{firstname:e,lastname:t,surname:a}=s;return`${t?t+" ":""}${e}${a?" "+a:""}`}return"Без водія"},getSelectedOrExistingDriverName(e,s){return this.selectedCarDrivers[e]?this.getDriverPlaceholderByLicensePlate(e):s?this.getDriverPlaceholderByUid(s):"Без водія"},enableEditCarModel(e){this.editCarModelIsEnabled=e,this.editModelValue=e},disableEditCarModel(){this.editCarModelIsEnabled="",this.editModelValue=""},setCreatingCarModel(e){this.createCarInfo.model=e,this.selectFilterIsOpen=""},saveEditedModel(e,s){return this.allCarModels[e]&&delete this.allCarModels[e],this.$set(this.allCarModels,s,s),this.editCarModelIsEnabled="",this.editModelValue="",this.$store.dispatch("saveNewModelsCollection",this.allCarModels)},deleteCarModel(e){return this.$delete(this.allCarModels,e),this.$store.dispatch("saveNewModelsCollection",this.allCarModels)},selectCreatingCarDriver(e){this.createCarInfo.driver=e,this.selectFilterIsOpen=""},createNewCar(){this.carIsCreated&&(this.carIsCreated=!1),this.createCarInfo.model&&!this.allCars[this.createCarInfo.licensePlate]&&this.createCarInfo.licensePlate?(this.createCarInfo.repairMileage=this.createCarInfo.mileage,this.allCarModels[this.createCarInfo.model]&&delete this.allCarModels[this.createCarInfo.model],this.$set(this.allCarModels,this.createCarInfo.model,this.createCarInfo.model),this.$set(this.allCars,this.createCarInfo.licensePlate,this.createCarInfo),this.$store.dispatch("createNewCar",this.createCarInfo),this.createCarInfo.driver&&this.$store.dispatch("updateUserCar",this.createCarInfo),this.createCarInfo={model:"",licensePlate:"",mileage:null,repairMileage:this.mileage,state:"inUse",driver:"",repairBase:""},this.createCarModelIsOpen=!1,this.carCreateError=!1,this.carIsCreated=!0):this.carCreateError=!0},closeCreatingCarPanel(){this.createCarPanelIsOpened=!1,this.carIsCreated=!1,this.carCreateError=!1,this.createCarInfo={model:"",licensePlate:"",mileage:null,repairMileage:this.mileage,state:"inUse",driver:"",repairBase:""}},deleteCar(e){this.$store.dispatch("deleteCar",e),this.allCars[e].driver&&(this.$store.dispatch("updateUserCar",{driver:this.allCars[e].driver,licensePlate:""}),this.$delete(this.allDrivers,this.allCars[e].driver)),this.selectedCarDrivers[e]&&this.$delete(this.selectedCarDrivers,e),this.selectFilterIsOpen===e&&(this.selectFilterIsOpen=""),this.$delete(this.allCars,e),this.deleteCarWindowIsOpen=""},validateMileage(){this.createCarInfo.mileage=this.createCarInfo.mileage.replace(/[^0-9]/g,"").slice(0,7)},validateLicensePlate(){this.createCarInfo.licensePlate=this.createCarInfo.licensePlate.replace(/[^a-zA-Z0-9 -]/g,"")},saveDriverChoiceButtonIsEnabled(e,s){return(!this.selectedCarDrivers[s]||"withoutDriver"!=this.selectedCarDrivers[s]||""!=e)&&!(!this.selectedCarDrivers[s]||this.selectedCarDrivers[s]==e)},saveSelectedCarDriver(e,s){e&&(this.$store.dispatch("updateUserCar",{driver:e,licensePlate:""}),this.$set(this.allDrivers[e],"car","")),"withoutDriver"!=this.selectedCarDrivers[s]?(this.$store.dispatch("updateUserCar",{driver:this.selectedCarDrivers[s],licensePlate:s}),this.$store.dispatch("updateCarDriver",{driver:this.selectedCarDrivers[s],licensePlate:s}),this.$set(this.allDrivers[this.selectedCarDrivers[s]],"car",s),this.$set(this.allCars[s],"driver",this.selectedCarDrivers[s]),this.$delete(this.selectedCarDrivers,s)):(this.$store.dispatch("updateCarDriver",{driver:"",licensePlate:s}),this.$set(this.allCars[s],"driver",""),this.$delete(this.selectedCarDrivers,s))},displayCarState(e){return"sentToRepair"==e.state?this.displayCarStates(e.state)+" у базу ремонту "+this.allRepairBases[e.repairBase]?.name:"beingRepaired"==e.state?this.displayCarStates(e.state)+" на базі ремонту "+this.allRepairBases[e.repairBase]?.name:this.displayCarStates(e.state)},filterRepairBases(e){if(this.searchRepairBaseValue[e]){const s=this.searchRepairBaseValue[e].toLowerCase();return Object.values(this.allRepairBases).filter((e=>e.name.toLowerCase().includes(s)||e.adress.toLowerCase().includes(s)))}return this.allRepairBases},fetchRepairBases(){this.$delete(this.allRepairBases),this.$store.dispatch("getAllRepairBases").then((e=>{e.forEach((e=>{var s=e.data();this.$set(this.allRepairBases,e.id,{id:e.id,name:s.name,adress:s.adress})}))}))}},computed:{filteredDrivers(){var e;return e=this.selectedCarDrivers&&this.selectFindDriver[this.selectFilterIsOpen]?Object.values(this.allDrivers).filter((e=>{const s=(e.lastname?e.lastname+" ":"")+e.firstname+(e.surname?" "+e.surname:""),t=Object.values(this.selectedCarDrivers).includes(e.uid);return s.toLowerCase().includes(this.selectFindDriver[this.selectFilterIsOpen].toLowerCase())&&!t&&!e.car})):this.selectFindDriver[this.selectFilterIsOpen]?Object.values(this.allDrivers).filter((e=>{const s=(e.lastname?e.lastname+" ":"")+e.firstname+(e.surname?" "+e.surname:"");return s.toLowerCase().includes(this.selectFindDriver[this.selectFilterIsOpen].toLowerCase()&&!e.car)})):this.selectedCarDrivers?Object.values(this.allDrivers).filter((e=>!Object.values(this.selectedCarDrivers).includes(e.uid)&&!e.car)):Object.values(this.allDrivers).filter((e=>!e.car)),e},filterCarModels(){const e=this.selectFindModel.toLowerCase();return Object.fromEntries(Object.entries(this.allCarModels).filter((([s])=>s.toLowerCase().includes(e))))},filteredCars(){const e=this.searchQuery.toLowerCase().trim();return e?Object.values(this.allCars).filter((s=>{const t=["model","repairBase","licensePlate","state","driver"];return t.some((t=>{if("driver"===t){const a=this.getDriverPlaceholderByUid(s[t]);return a.toLowerCase().includes(e)}return s[t]&&s[t].toString().toLowerCase().includes(e)}))})):this.allCars}},mounted(){this.$store.dispatch("getAllCars").then((e=>{e.forEach((e=>{var s=e.data();this.$set(this.allCars,s.licensePlate,s),this.selectedCarState[s.licensePlate]=s.state}))})),this.$store.dispatch("getAllDrivers").then((e=>{e.forEach((e=>{var s=e.data();this.$set(this.allDrivers,s.uid,s)}))})),this.$store.dispatch("getAllCarsModels").then((e=>{this.allCarModels=e.data()})),this.fetchRepairBases()}},S=y,N=(0,u.c)(S,U,E,!1,null,null,null),x=N.exports,V=function(){var e=this,s=e._self._c;return s("div",{staticClass:"repairman-panel-container"},[s("div",{staticClass:"window-repair-panel-title"},[e.selectRepairBaseIsOpen?e._e():s("div",{staticClass:"empty-block"}),s("h2",{staticClass:"repairbase-panel-title"},[e._v("Ремонтна база")]),e.selectRepairBaseIsOpen?e._e():s("div",{staticClass:"hide-repair-base-select",on:{click:function(s){e.selectRepairBaseIsOpen=!0}}},[s("img",{attrs:{src:t(5156),alt:""}})])]),e.selectRepairBaseIsOpen?s("div",{staticClass:"select-repairbase-container"},[s("div",{staticClass:"empty-block"}),s("div",{staticClass:"custom-select"},[s("div",{staticClass:"selected-option",class:"selected-repair-base"==e.selectFilterIsOpen?"selected-option-is-active":"",on:{click:function(s){return e.openCloseRepairBaseSelect("selected-repair-base")}}},[s("span",[e._v(e._s(e.allRepairBases[e.selectedChoice]?e.allRepairBases[e.selectedChoice].name+" "+e.allRepairBases[e.selectedChoice].adress:"База ремонту не обрана"))]),s("img",{class:"selected-repair-base"==e.selectFilterIsOpen?"dropdown-active-icon":"",attrs:{src:t(5156),alt:""}})]),"selected-repair-base"==e.selectFilterIsOpen?s("div",{staticClass:"options-container"},[e._l(e.allRepairBases,(function(t){return[s("div",{key:t.id,staticClass:"option",on:{click:function(s){return e.makeChoice("selected-repair-base",t.id)}}},[s("span",{staticClass:"repair-base-info"},[e._v(e._s(e.allRepairBases[t.id].name+" "+e.allRepairBases[t.id].adress)+" ")])])]}))],2):e._e()]),s("div",{staticClass:"hide-repair-base-select",on:{click:function(s){e.selectRepairBaseIsOpen=!1}}},[s("img",{staticClass:"close-repair-base-select",attrs:{src:t(5156),alt:""}})])]):e._e(),e.selectedChoice?s("div",{staticClass:"repair-base-content-container"},[s("div",{staticClass:"repair-base-control-panel-container"},[s("button",{on:{click:function(s){e.filterStateChoice="beingRepaired"}}},[e._v("Ремонтуються")]),s("button",{on:{click:function(s){e.filterStateChoice="sentToRepair"}}},[e._v("Мають прибути")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Пошук...",name:"",id:""},domProps:{value:e.searchQuery},on:{input:function(s){s.target.composing||(e.searchQuery=s.target.value)}}})]),s("div",{staticClass:"repair-base-cars-container"},[e._l(e.filteredCars,(function(t){return[s("div",{key:t.licensePlate,staticClass:"car-card"},[t.driver&&e.driverInfoIsOpen==t.driver?s("div",{staticClass:"driver-info"},[s("h2",{staticClass:"driver-info-title"},[e._v("Інформація про водія ")]),s("ul",[s("li",{staticClass:"driver-info-text"},[e._v("ФІО: "+e._s(e.getDriverFullNameByUid(t.driver)))]),s("li",{staticClass:"driver-info-text"},[e._v("Пошта: "+e._s(e.allDrivers[e.driverInfoIsOpen]?.email))]),s("li",{staticClass:"driver-info-text"},[e._v("Номер: "+e._s(e.allDrivers[e.driverInfoIsOpen]?.phoneNumber?e.allDrivers[e.driverInfoIsOpen].phoneNumber:"Не вказаний"))])])]):e._e(),s("h2",{staticClass:"car-info-title"},[e._v(e._s(t.model))]),s("ul",[s("li",{staticClass:"car-info-text"},[e._v("Ліцензійний номер: "+e._s(t.licensePlate))]),s("li",{staticClass:"car-info-text"},[e._v("Пробіг: "+e._s(t.mileage)+" км")]),s("div",{staticClass:"driver-info-open-button-field"},[s("span",{staticClass:"driver-fio"},[e._v("Водій: "+e._s(e.getDriverFullNameByUid(t.driver))+" ")]),t.driver?s("div",{staticClass:"driver-info-button",on:{mouseover:function(s){e.driverInfoIsOpen=t.driver},mouseout:function(s){e.driverInfoIsOpen=""}}},[s("span",[e._v("?")])]):e._e()])]),s("div",{staticClass:"control-repair-btn-container"},["beingRepaired"==e.filterStateChoice?s("button",{staticClass:"control-repair-car-button",on:{click:function(s){return e.carFinishedRepair(t.licensePlate)}}},[e._v("Закінчити ремонт")]):e._e(),"sentToRepair"==e.filterStateChoice?s("button",{staticClass:"control-repair-car-button",on:{click:function(s){return e.carArrivedToRepairBase(t.licensePlate)}}},[e._v("Машина прибула")]):e._e()])])]})),s("div",{staticClass:"drivers-not-found"},[s("span",[e._v(" "+e._s(e.getDriverNotFoundMessage))])])],2)]):e._e()])},F=[],W={name:"RepairBasePanel",props:{},data(){return{allRepairBases:{},selectFilterIsOpen:"",selectedChoice:"",allCars:{},allDrivers:{},searchQuery:"",filterStateChoice:"beingRepaired",driverInfoIsOpen:"",selectRepairBaseIsOpen:!0}},methods:{openCloseRepairBaseSelect(e){this.selectFilterIsOpen==e?this.selectFilterIsOpen="":this.selectFilterIsOpen=e},makeChoice(e,s){this.selectedChoice=s,this.openCloseRepairBaseSelect(e)},getDriverFullNameByUid(e){const s=this.allDrivers[e];if(s){const{firstname:e,lastname:t,surname:a}=s;return`${t?t+" ":""}${e}${a?" "+a:""}`}return"Без водія"},carArrivedToRepairBase(e){this.$set(this.allCars[e],"state","beingRepaired"),this.$store.dispatch("updateCarState",{licensePlate:e,state:"beingRepaired"})},carFinishedRepair(e){this.$delete(this.allCars,e),this.$store.dispatch("updateCarState",{licensePlate:e,state:"inUse"})}},computed:{filteredCars(){const e=this.searchQuery.toLowerCase().trim();var s=Object.values(this.allCars).filter((e=>e.repairBase==this.selectedChoice&&e.state==this.filterStateChoice));return e?Object.values(s).filter((s=>{const t=["model","repairBase","licensePlate","state","driver"];return t.some((t=>{if("driver"===t){const a=this.getDriverFullNameByUid(s[t]);return a.toLowerCase().includes(e)}return s[t]&&s[t].toString().toLowerCase().includes(e)}))})):s},getDriverNotFoundMessage(){var e=Object.values(this.allCars).filter((e=>e.repairBase==this.selectedChoice&&e.state==this.filterStateChoice));return e.length?this.searchQuery&&!this.filteredCars.length?"Співпадінь не знайдено":"":"beingRepaired"==this.filterStateChoice?"Машин, що ремонтуються - немає":"Машин, що мають прибути - немає"}},mounted(){this.$store.dispatch("getAllRepairBases").then((e=>{e.forEach((e=>{var s=e.data();this.$set(this.allRepairBases,e.id,{id:e.id,name:s.name,adress:s.adress})}))})),this.$store.dispatch("getAllBrokenCars").then((e=>{e.forEach((e=>{var s=e.data();this.$set(this.allCars,s.licensePlate,s)}))})),this.$store.dispatch("getAllDrivers").then((e=>{e.forEach((e=>{var s=e.data();this.$set(this.allDrivers,s.uid,s)}))}))}},Q=W,L=(0,u.c)(Q,V,F,!1,null,null,null),j=L.exports,J={name:"App",components:{AuthorizationAndRegistration:h,MenuBarComponent:_,UsersManagement:O,RepairCoordinatorPanel:x,RepairmanPanel:j},data(){return{openedWindow:"manager",userInfo:""}},methods:{},computed:{isLoggedIn(){return this.$store.getters["isLoggedIn"]},getUserInfo(){return this.$store.getters["getUserInfo"]}},mounted(){this.userInfo=this.getUserInfo,console.log(this.userInfo),localStorage.getItem("uid")&&this.$store.dispatch("setAccountInfo",localStorage.getItem("uid")).then((()=>{this.userInfo=this.getUserInfo}))}},$=J,T=(0,u.c)($,r,i,!1,null,null,null),K=T.exports,H=t(928);a.cp.use(H.cp);const Y=[{path:"/",name:"home"}],z=new H.cp({mode:"history",routes:Y});var Z=z,G=t(984),q=t(8508),X=t(3340),ee=t(5632);const se=(0,q.mg)({apiKey:"AIzaSyD9oZKAndhy3OoYhs330TOB-9gHe4QUMlU",authDomain:"regulation-of-repairs.firebaseapp.com",projectId:"regulation-of-repairs",storageBucket:"regulation-of-repairs.appspot.com",messagingSenderId:"800212177449",appId:"1:800212177449:web:29a3b00109d00651424238"}),te=(0,X.gZ)(se),ae=(0,ee.Iv)(se),re=new ee.wR;re.addScope("https://www.googleapis.com/auth/contacts.readonly"),re.setCustomParameters({login_hint:"user@example.com"}),a.cp.use(G.cp);var ie=new G.cp.Store({state:{isLoggedIn:localStorage.getItem("uid"),loginErrorMessage:"",createErrorMessage:"",userInfo:""},getters:{isLoggedIn(e){return e.isLoggedIn},getLoginErrorMessage(e){return e.loginErrorMessage},getCreateErrorMessage(e){return e.createErrorMessage},getUserInfo(e){return e.userInfo}},mutations:{clearErrorsData(e){e.loginErrorMessage="",e.createErrorMessage=""}},actions:{getAllUsers(){return(0,X.uY)((0,X.oV)(te,"Accounts"))},setUserInfo(e,s){return(0,X.i4)((0,X.UN)(te,"Accounts",s))},updateUserAccount(e,s){return(0,X.gD)((0,X.UN)(te,"Accounts",s.uid),s.newData)},getAllDrivers(){return(0,X.uY)((0,X.kt)((0,X.oV)(te,"Accounts"),(0,X.A9)("role","==","driver")))},getAllCars(){return(0,X.uY)((0,X.oV)(te,"Cars"))},getAllBrokenCars(){return(0,X.uY)((0,X.kt)((0,X.oV)(te,"Cars"),(0,X.A9)("state","!=","inUse")))},getAllRepairBases(){return(0,X.uY)((0,X.oV)(te,"RepairBases"))},addRepairBase(e,s){return(0,X.sB)((0,X.oV)(te,"RepairBases"),s)},updateRepairBase(e,s){return(0,X.gD)((0,X.UN)(te,"RepairBases",s.id),{name:s.name,adress:s.adress})},createNewCar(e,s){return(0,X.Sm)((0,X.UN)(te,"Cars",s.licensePlate),s)},setCarRepairBase(e,s){return(0,X.gD)((0,X.UN)(te,"Cars",s.licensePlate),{state:"sentToRepair",repairBase:s.id})},updateCarState(e,s){return(0,X.gD)((0,X.UN)(te,"Cars",s.licensePlate),{state:s.state})},updateCarDriver(e,s){return(0,X.gD)((0,X.UN)(te,"Cars",s.licensePlate),{driver:s.driver})},deleteCar(e,s){return(0,X.oh)((0,X.UN)(te,"Cars",s))},getAllCarsModels(){return(0,X.i4)((0,X.UN)(te,"CarModels","models"))},saveNewModelsCollection(e,s){return(0,X.Sm)((0,X.UN)(te,"CarModels","models"),s)},getAllUserRoles(){return(0,X.uY)((0,X.oV)(te,"UserRoles"))},updateUserRole(e,s){return(0,X.gD)((0,X.UN)(te,"Accounts",s.uid),{role:s.role})},updateUserCar(e,s){return(0,X.gD)((0,X.UN)(te,"Accounts",s.driver),{car:s.licensePlate})},addAccount(e,s){return(0,X.Sm)((0,X.UN)(te,"Accounts",s.uid),s)},async setAccountInfo(e,s){return(0,X.i4)((0,X.UN)(te,"Accounts",s)).then((s=>{e.state.userInfo=s.data()}))},login(e,s){s.email.length&&s.password.length&&(0,ee.kJ)(ae,s.email,s.password).then((s=>{localStorage.setItem("uid",s.user.uid),e.state.isLoggedIn=!0})).catch((s=>{switch(console.log(s.code),s.code){case"auth/invalid-credential":e.state.loginErrorMessage="Неправильна пошта або пароль";break;default:e.state.loginErrorMessage="Не вдалося увійти"}}))},createAccountWithGoogle(e){(0,ee.gZ)(ae,re).then((s=>{const t=s.user.displayName.split(" ");var a={uid:s.user.uid,firstname:t[0],lastname:t.length<2?"":t[1],surname:t.length<3?"":t[2],email:s.user.email,phoneNumber:s.user.phoneNumber?s.user.phoneNumber:"",role:""};localStorage.setItem("uid",a.uid),e.dispatch("addAccount",a),e.state.isLoggedIn=!0})).catch((s=>{switch(console.log(s.code),s.code){case"auth/invalid-credential":e.state.createErrorMessage="Неправильна пошта або пароль";break;default:e.state.createErrorMessage="Гугл реєстрація не вдалася"}}))},createAccount(e,s){s.email.length&&s.password.length&&(0,ee.UH)(ae,s.email,s.password).then((t=>{var a={uid:t.user.uid,firstname:s.firstname,lastname:s.lastname,surname:s.surname,email:s.email,phoneNumber:s.phone.replace(/[^0-9]/g,"")?s.phoneRegion+s.phone:"",role:""};localStorage.setItem("uid",a.uid),e.dispatch("addAccount",a),e.state.isLoggedIn=!0})).catch((s=>{switch(s.code){case"auth/invalid-credential":e.state.createErrorMessage="Неправильна пошта або пароль";break;case"auth/email-already-in-use":e.state.createErrorMessage="Пошта вже зайнята";break;default:e.state.createErrorMessage="Реєстрація не вдалася"}}))},logout(e){(0,ee.Az)(ae).then((()=>{e.state.isLoggedIn=!1,e.state.userInfo="",localStorage.removeItem("uid")})).catch((e=>{console.log(e)}))}},modules:{}});a.cp.config.productionTip=!1,new a.cp({router:Z,store:ie,render:e=>e(K)}).$mount("#app")},5636:function(e,s,t){e.exports=t.p+"img/user-icon-img-active.f5a808e7.svg"},4232:function(e,s,t){e.exports=t.p+"img/user-icon-img.c93ada7b.svg"},7067:function(e,s,t){e.exports=t.p+"img/add-image.c9d981c0.png"},7644:function(e,s,t){e.exports=t.p+"img/cancel-image.f0b7be91.png"},4556:function(e,s,t){e.exports=t.p+"img/confirm-icon.5e222643.png"},8428:function(e,s,t){e.exports=t.p+"img/delete-button-image.f718f2db.png"},5196:function(e,s,t){e.exports=t.p+"img/delete-image.e6cab5f5.png"},5156:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABFZJREFUeJzt3buLnFUAxuF3IdmIIoEkoGhnE1Gx0N7G2sp/QHutBBsFU9goBAIKttZWKihaWJlG4yWxEkESRQsJamGQEHHHYndk2etczjnf7XngtDPvge/HsMOymwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKvbKPAap5I8kuSBJLMkPyX5Psm/BV4bFnVXkseS3JfkTpIfk1zP9jPZifNJ3k1ya2fE7nMzyaUkD3Y1jsl4Msl7SW5n/3N4PckrSe5tOWgjyctJ/jlg0N5zK8nzLccxGSeSXEyyleOfw1+SPNVq2MUFBu09r7UaxyScSvJBlnsG7yR5pvaw55YctftcqD2OSTiV5MOs9gz+neTRWsNOJ/ljxWEioYR14pifyynz5dQ+L645TCSso0Qc81Pl55FPCo0TCcsqGccsyVs1Rv5ccKBIWFTpOGZJvqgx9M/CI0XCcWrEMUtyo8bYGxWGioTD1IpjluSHGoM/qjRWJOxVM45Zko9rjC71LZZIOErtOGZJXqox/EwO/r0rkVBKizhuJ7m/1gVerTxeJNPVIo5ZktdrXuJkks8bXOJCzUvQO63iuJxks/ZlziS51uAyF2pfhF5oFcc32X52mzgXkbC+UcYxJxLWMeo45kTCKiYRx5xIWMak4pgTCYvYzATjmBMJR5l0HHMi4SDi2EUk7CaOA4iERBxHEsm0iWMBIpkmcSxBJNMijhWIZBrEsQaRjJs4ChDJOImjIJGMizgqEMk4iKMikQybOBoQyTCJoyGRDEurOL6NOP4nkmFoGcfZRncaDJH022aW/7dn4ihMJP0kjh4RSb+Io4dE0g/i6DGRdEscAyCSbohjQETSljgGSCRtiGPARFKXOEZAJHWIY0REUpY4RkgkZYhjxESyHnFMgEhWI44JEclyxDFBIlmMOCZMJEcTByI5xGaS9yMOIpK9xME+ItnWKo6rEcfgTD0ScXCsqUYiDhY2tUjEwdKmEok4WNnYIxEHaxtrJOKgmLFFIg6KG0sk4qCaoUciDqobaiTioJmhRSIOmhtKJOKgM32PRBx0rq+RiIPeaBXJpSQnF9hzNsmnDfaIg4W1iuS7JM9m+xNir9NJXkjyW4Md4jjERtcDeuxcks+SPN7gvf5KciXJr0lOJHkoyRNZ7BNmXdeSPJ3k9wbvxci0+iTp6vjkYG1jjUQcFDO2SMRBcWOJ5OrOXaC4oUciDqobaiTioJmhRSIOmhtKJOKgM32PRBx0rq+RiIPe6Fsk4qB3+hKJOOitriMRB73XVSTiYDBaRyIOBqdVJOJgsGpHIg4Gr1Yk4mA0SkciDkanVCTiYLTWjUQcjN6qkYiDyTiX5OssHsdXEQcTc0+Sd5Js5fAwtpK8neTujjZC5x5O8ma2/3DczZ3zZZI3kpzvcBcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMCa/gPtOuJGoqDaNwAAAABJRU5ErkJggg=="},6484:function(e,s,t){e.exports=t.p+"img/edit-image.65bc6491.png"},36:function(e){e.exports="data:image/png;base64,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"}},s={};function t(a){var r=s[a];if(void 0!==r)return r.exports;var i=s[a]={exports:{}};return e[a].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(s,a,r,i){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],i=e[d][2];for(var l=!0,o=0;o<a.length;o++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](a[o])}))?a.splice(o--,1):(l=!1,i<n&&(n=i));if(l){e.splice(d--,1);var c=r();void 0!==c&&(s=c)}}return s}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,r,i]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var r,i,n=a[0],l=a[1],o=a[2],c=0;if(n.some((function(s){return 0!==e[s]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(o)var d=o(t)}for(s&&s(a);c<n.length;c++)i=n[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},a=self["webpackChunkregulation_of_repairs"]=self["webpackChunkregulation_of_repairs"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[999],(function(){return t(9540)}));a=t.O(a)})();
//# sourceMappingURL=app.34cf058e.js.map